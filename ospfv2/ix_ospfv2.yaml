module: ix_ospfv2
short_description: Resource module to configure OSPF.
description:
  - This module provides declarative management of OSPF on NEC IX devices.
version_added: 1.1.0
author:
  - Yushi Takeda(@Rucdev)
notes:
  - Tested against NEC IX version 10.2.39 on IX 2105.
options:
  config:
    description: A dictionary of OSPF options.
    type: dict
    suboptions:
      processes:
        description:
          - List of OSPF instance.
        type: list
        elements: dict
        suboptions:
          process_id:
            description: Process ID
            required: true
            type: int
          areas:
            description:
              - OSPF area parameters
            type: list
            elements: dict
            suboptions:
              area_id:
                description:
                  - The Area ID (0-4294967295 or A.B.C.D)
                type: str
              default_cost:
                description:
                  - The default cost vaule of area
                type: int
              nssa:
                description:
                  - Settings for configuring the area as a nssa
                type: dict
                suboptions:
                  no_summary:
                    description: Do not send summary LSA to Not-So-Stubby area
                    type: bool
                  translate:
                    description: Always convert Type-7 LSA to Type-5 LSA
                    type: bool
                  stability_interval:
                    description: The time to keep translations running after you are no longer a Translator
                    type: int
                  default_metric:
                    description: The cost of Type-7 default route advertised to NSSA
                    type: int
                  default_metric_type:
                    description: Type-7 default route type to be advertised to NSSA
                    type: int
                    choices:
                      - 1
                      - 2
              ranges:
                description: Setting configuration of address range for area
                type: list
                elements: dict
                suboptions:
                  address:
                    description: IP address range (A.B.C.D/<0-32>)
                    type: str
                  advertise:
                    description: Advertise this range (default)
                    type: bool
              stub:
                description:
                  - Settings for configuring the area as a stub
                type: dict
                suboptions:
                  no_summary:
                    description: Do not send summary LSA to stub area
                    type: bool
              virtual-link:
                description:
                  - Setting configuration for virtual-link
                type: dict
                suboptions:
                  authentication:
                    description: Virtual link authentication type
                    type: str
                    default: "text"
                    choices:
                      - "text"
                      - "message-digest"
                      - "null"
                  authentication_key:
                    description: Authentication text password
                    type: str
                  message_digest_key:
                    description: Message digest password
                    type: str
                  dead_interval:
                    description: Dead interval (seconds)
                    type: int
                  hello_interval:
                    description: Hello interval (seconds)
                    type: int
                  retransmit_interval:
                    description: Retransmit interval (seconds)
                    type: int
                  transmit_delay:
                    description: Transit delay (seconds)
                    type: int
          compatible:
            description: OSPF router compatibility list
            type: dict
            suboptions:
              rfc1583:
                description: compatible with RFC 1583
                type: bool
          default_metric:
            description: Set metric of redistributed routes
            type: int
          distance:
            description: Define an administrative distance
            type: dict
            suboptions:
              external:
                description: OSPF external routes
                type: int
              inter_area:
                description: OSPF inter-area routes
                type: int
              intra:
                description: OSPF intra-area routes
                type: int
              nssa_external:
                description: OSPF nssa-external routes
                type: int
          distribute_list:
            description:
              - Used for filtering when storing contents in the routing table
              - Specify a prefix list or route map
              - The OSPF process must be restarted for the settings to take effectJJ;W
            type: dict
            suboptions:
              prefix:
                description: Use the prefix list
                type: str
              route_map:
                description: Use the route map
                type: str
          network:
            description: Enable routing on an OSPF network
            type: list
            elements: dice
            suboptions:
              address:
                description: Network number
                type: str
              area:
                description: Set the OSPF area ID
                type: str
          passive_interface:
            description:
              - Setting of configure the specified interface not to send or receive OSPF packets
            type: str
          rib:
            description: Setting of rib
            type: dict
            suboptions:
              max_entries:
                description: Setting of the max entries(64 ~ 65535)
                type: int
          timers:
            description: Adjust routing timers
            type: dict
            suboptions:
              delay:
                description: The time between receipt of topology change and recalculation
                type: int 
              hold:
                description: Consecutive calculation intervals
                type: int

  state:
    description:
    type: str
    choice:
      - merged
      - replaced
      - overridden
      - deleted
      - gathered
      - rendered
      - parsed
    default: merged
