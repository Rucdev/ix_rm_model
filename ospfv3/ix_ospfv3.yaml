module: ix_ospfv3
short_description: Resource module to configure OSPF.
description:
  - This module provides declarative management of OSPF on NEC IX devices.
version_added: 1.1.0
author:
  - Yushi Takeda(@Rucdev)
notes:
  - Tested against NEC IX version 10.2.39 on IX 2105.
options:
  config:
    description: A dictionary of OSPFv3 options.
    type: dict
    suboptions:
      processes:
        description:
          - List of OSPFv3 instance.
        type: list
        elements: dict
        suboptions:
          process_id:
            description: Process ID
            required: true
            type: int
          areas:
            description:
              - OSPF area parameters
            type: list
            elements: dict
            suboptions:
              area_id:
                description:
                  - The Area ID (0-4294967295 or A.B.C.D)
                type: str
              default_cost:
                description:
                  - The default cost vaule of stub area
                type: int
              ranges:
                description: Setting configuration of address range for area
                type: list
                elements: dict
                suboptions:
                  address:
                    description: IP address range (A.B.C.D/<0-32>)
                    type: str
                  advertise:
                    description: Advertise this range (default)
                    type: bool
                    default: true
              stub:
                description:
                  - Settings for configuring the area as a stub
                type: dict
                suboptions:
                  set:
                    description: Enable a stub area
                    type: bool
                  no_summary:
                    description: Do not send summary LSA to stub area
                    type: bool
          distance:
            description:
              - Define an administrative distance
              - A process restart is required for the settings to take effect
            type: dict
            suboptions:
              external:
                description: OSPF external routes
                type: int
                default: 110
              inter_area:
                description: OSPF inter-area routes
                type: int
                default: 110
              intra_area:
                description: OSPF intra-area routes
                type: int
                default: 110
          network:
            description: Enable routing on an OSPF network
            type: list
            elements: dict
            suboptions:
              interface:
                description: Interface name
                type: str
              area:
                description: Set the OSPF area ID
                type: str
          originate_default:
            description: Setting of configure the default route
            type: dict
            suboptions:
              metric:
                description: OSPF default metric
                type: int
                default: 1
              metric_type:
                description: OSPF metric type for default routes
                type: int
                default: 2
              route_map:
                description: Route-map reference name
                type: str
              tag:
                description: Tag value to be assigned
                type: int
                default: 0
          passive_interfaces:
            description:
              - Setting of configure the specified interface not to send or receive OSPF packets
            type: list
            elements: str
          router_id:
            description:
              - Setting of router id
              - A process restart is required for the settings to take effect
            type: str
          timers:
            description: Adjust routing timers
            type: dict
            suboptions:
              delay:
                description: The time between receipt of topology change and recalculation
                type: int
                default: 5
              hold:
                description: Consecutive calculation intervals
                type: int
                default: 10
  running_config:
    description:
      - This option is used only with state I(parsed).
      - The value of this option should be the output received from the ix
        device by executing the command B(show running-config ospf).
      - The state I(parsed) reads the configuration from C(running_config)
        option and transforms it into Ansible structured data as per the
        resource module's argspec and the value is then returned in the
        I(parsed) key within the result.
    type: str
  state:
    description:
      - The state the configuration should be left in
      - The states I(rendered), I(gathered) and I(parsed) does not perform any change
        on the device.
      - The state I(rendered) will transform the configuration in C(config) option to
        platform specific CLI commands which will be returned in the I(rendered) key
        within the result. For state I(rendered) active connection to remote host is
        not required.
      - The state I(gathered) will fetch the running configuration from device and transform
        it into structured data in the format as per the resource module argspec and
        the value is returned in the I(gathered) key within the result.
      - The state I(parsed) reads the configuration from C(running_config) option and
        transforms it into JSON format as per the resource module parameters and the
        value is returned in the I(parsed) key within the result. The value of C(running_config)
        option should be the same format as the output of command I(show running-config ospf)
        executed on device. For state I(parsed) active
        connection to remote host is not required.
    type: str
    choices:
      - merged
      - replaced
      - overridden
      - deleted
      - gathered
      - rendered
      - parsed
    default: merged
